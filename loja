<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Respect Style ‚Äî Loja</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap" rel="stylesheet">
<style>
  :root{--bg:#0e0e10;--card:#151517;--muted:#8e8e95;--ring:#2a2a2e;--red:#e50914;--white:#fff;--ok:#7bff6b}
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--white);font-family:Inter,system-ui,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
  .wrap{max-width:1100px;margin:0 auto;padding:14px}
  header{display:flex;align-items:center;gap:12px;margin:4px 0 14px}
  header .logo{width:42px;height:42px;border-radius:10px;border:2px solid var(--red);object-fit:cover}
  h1{font-size:22px;margin:0} .muted{color:var(--muted);font-size:13px}

  .tabs{display:flex;gap:8px;margin:10px 0 8px}
  .tab{flex:1;text-align:center;padding:10px 12px;border-radius:12px;border:1px solid var(--ring);font-weight:900;cursor:pointer;background:#111114}
  .tab.active,.tab:hover{border-color:var(--red)} .tab small{opacity:.8;font-weight:700}

  .banner{background:linear-gradient(135deg,#1b1b1f 0%,#101013 100%);border:1px solid var(--ring);border-radius:16px;padding:16px;margin:8px 0 12px}
  .chips{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}
  .chip{padding:8px 12px;border-radius:999px;border:1px solid var(--ring);cursor:pointer;font-weight:700;font-size:12px;background:#111114}
  .chip.active{border-color:var(--red)}

  .topbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:10px 0 14px}
  .search{flex:1;display:flex;align-items:center;gap:8px;background:#101014;border:1px solid var(--ring);border-radius:12px;padding:10px 12px}
  .search input{flex:1;border:none;background:transparent;color:var(--white);outline:none;font-weight:700}
  select{appearance:none;background:#101014;border:1px solid var(--ring);color:#fff;border-radius:12px;padding:10px 12px;font-weight:700}

  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  @media(min-width:680px){.grid{grid-template-columns:repeat(3,1fr)}}
  @media(min-width:980px){.grid{grid-template-columns:repeat(4,1fr)}}

  .card{background:var(--card);border:1px solid var(--ring);border-radius:14px;overflow:hidden;display:flex;flex-direction:column}
  .card figure{margin:0;aspect-ratio:1/1;display:block;overflow:hidden;background:#0b0b0d}
  .card img{width:100%;height:100%;object-fit:cover;display:block}
  .card .info{padding:10px 12px 12px;display:flex;flex-direction:column;gap:6px}
  .title{font-weight:900;line-height:1.2} .price{font-weight:900}
  .cat{font-size:11px;color:#c9c9cf;text-transform:uppercase;letter-spacing:.04em}

  .btn{margin-top:auto;display:block;text-align:center;background:#fff;color:#0b0b0d;font-weight:900;border:none;border-radius:10px;padding:10px 12px;cursor:pointer}
  .btn:hover{background:var(--red);color:#fff}
  .stockline{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:#d7d7dd}
  .stock-ok{color:var(--ok);font-weight:900}
  .stock-low{color:#ffd36b;font-weight:900}
  .stock-zero{color:#ff8a80;font-weight:900}

  .footerbar{position:sticky;bottom:0;background:rgba(14,14,16,.7);backdrop-filter:blur(8px);border-top:1px solid var(--ring);display:flex;gap:10px;justify-content:space-between;padding:10px 12px;border-radius:16px;margin-top:16px}
  .footbtn{flex:1;text-align:center;padding:10px 12px;border-radius:12px;border:1px solid var(--ring);font-weight:900;cursor:pointer;background:#111114}
  .footbtn:hover,.footbtn.active{border-color:var(--red)}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <img class="logo" src="../imagens/logo-respect.png" alt="" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2550/2550382.png'">
      <div>
        <h1>Respect Style Jiu Jitsu</h1>
        <span class="muted">Afiliados Shopee + Itens em estoque</span>
      </div>
    </header>

    <div class="tabs">
      <div id="tab-af" class="tab active" onclick="switchTab('afiliados')">Afiliados<br><small>Links Shopee</small></div>
      <div id="tab-st" class="tab" onclick="switchTab('estoque')">Em estoque<br><small>Retirada/Entrega</small></div>
    </div>

    <section class="banner">
      <h2 id="banner-title">Sele√ß√£o Respect ‚Ä¢ Afiliados</h2>
      <p id="banner-sub">Kimonos, faixas, rashguards, t√™nis e acess√≥rios da Shopee.</p>
      <div class="chips" id="chips"></div>
    </section>

    <div class="topbar">
      <div class="search"><input id="search" placeholder="Buscar: kimono, faixa, rashguard, t√™nis..." /></div>
      <select id="sort">
        <option value="relevancia">Ordenar: Relev√¢ncia</option>
        <option value="preco-asc">Pre√ßo: menor ‚Üí maior</option>
        <option value="preco-desc">Pre√ßo: maior ‚Üí menor</option>
      </select>
    </div>

    <section id="grid" class="grid"></section>

    <div class="footerbar">
      <div class="footbtn active" onclick="scrollToTop()">üè† Loja</div>
      <div class="footbtn" onclick="setCategory('Kimonos')">ü•ã Kimonos</div>
      <div class="footbtn" onclick="setCategory('Acess√≥rios')">üéí Acess√≥rios</div>
      <div class="footbtn" onclick="window.location.href='../index.html'">‚Ü©Ô∏è In√≠cio</div>
    </div>
  </div>

<script>
/* DADOS (substitua os deeplinks pelos seus) */
const PRODUCTS_AFF = [
  {id:"kimono-premium", title:"Kimono Premium Respect", image:"https://images.unsplash.com/photo-1580496495629-469c3b619f88?q=80&w=1200&auto=format&fit=crop", price:399.90, category:"Kimonos", url:"https://shope.ee/SEU_DEEPLINK_KIMONO"},
  {id:"faixa-preta", title:"Faixa Preta Oficial", image:"https://images.unsplash.com/photo-1605296867424-35fc25c9215a?q=80&w=1200&auto=format&fit=crop", price:79.90, category:"Faixas", url:"https://shope.ee/SEU_DEEPLINK_FAIXA"}
];
const PRODUCTS_STOCK = [
  {id:"kimono-rs-a1", title:"Kimono Respect Branco ‚Äî A1", image:"https://images.unsplash.com/photo-1587855201705-e671cba606c7?q=80&w=1200&auto=format&fit=crop", price:349.90, category:"Kimonos", stock:6, sku:"RS-KIM-A1"},
  {id:"faixa-rs-preta", title:"Faixa Respect Preta", image:"https://images.unsplash.com/photo-1551632436-cbf8dd35adfa?q=80&w=1200&auto=format&fit=crop", price:89.90, category:"Faixas", stock:0, sku:"RS-FAIXA-PRETA"}
];

const AFF_SUB = "respectsite";
const CATEGORIES = ["Todos","Kimonos","Faixas","Rashguards","Cal√ßados","Acess√≥rios"];
let currentTab = "afiliados";
let state = { category:"Todos", search:"", sort:"relevancia" };

const $grid = document.getElementById('grid'), $chips = document.getElementById('chips');
const $search = document.getElementById('search'), $sort = document.getElementById('sort');
const $tabAf = document.getElementById('tab-af'), $tabSt = document.getElementById('tab-st');
const $bannerTitle = document.getElementById('banner-title'), $bannerSub = document.getElementById('banner-sub');

CATEGORIES.forEach(cat=>{
  const b=document.createElement('button');
  b.className='chip'+(cat==="Todos"?' active':''); b.textContent=cat; b.onclick=()=>setCategory(cat);
  $chips.appendChild(b);
});
function setCategory(cat){ state.category=cat; [...$chips.children].forEach(el=>el.classList.toggle('active',el.textContent===cat)); render(); }
$search.addEventListener('input', e=>{ state.search=e.target.value.toLowerCase(); render(); });
$sort.addEventListener('change', e=>{ state.sort=e.target.value; render(); });

function switchTab(tab){
  currentTab=tab;
  $tabAf.classList.toggle('active',tab==='afiliados'); $tabSt.classList.toggle('active',tab==='estoque');
  if(tab==='afiliados'){ $bannerTitle.textContent="Sele√ß√£o Respect ‚Ä¢ Afiliados"; $bannerSub.textContent="Kimonos, faixas, rashguards, t√™nis e acess√≥rios da Shopee."; }
  else{ $bannerTitle.textContent="Estoque Pr√≥prio ‚Ä¢ Retirada/Entrega"; $bannerSub.textContent="Itens com estoque local da Respect. Fale no WhatsApp para combinar a entrega."; }
  render();
}

const priceBRL = n => (n||0).toLocaleString('pt-BR',{style:'currency',currency:'BRL'});
function withSubId(url){ try{ const u=new URL(url); if(!u.searchParams.has('aff_sub')) u.searchParams.set('aff_sub',AFF_SUB); return u.toString(); }catch(_){ return url; } }
function applyFilters(list){
  let items=[...list];
  if(state.category!=="Todos") items=items.filter(p=>p.category===state.category);
  if(state.search){ const s=state.search; items=items.filter(p=>(p.title||'').toLowerCase().includes(s)||(p.category||'').toLowerCase().includes(s)||(p.sku||'').toLowerCase().includes(s)); }
  if(state.sort==='preco-asc') items.sort((a,b)=>(a.price||0)-(b.price||0));
  else if(state.sort==='preco-desc') items.sort((a,b)=>(b.price||0)-(a.price||0));
  return items;
}

function render(){
  const src = currentTab==='afiliados' ? PRODUCTS_AFF : PRODUCTS_STOCK;
  const items = applyFilters(src);
  $grid.innerHTML='';
  items.forEach(p=>{
    const el=document.createElement('article'); el.className='card';
    const head = `
      <figure><img src="${p.image}" alt="${p.title}" loading="lazy"></figure>
      <div class="info">
        <div class="cat">${p.category||''}</div>
        <div class="title">${p.title||''}</div>
        <div class="price">${priceBRL(p.price)}</div>`;
    if(currentTab==='afiliados'){
      el.innerHTML = head + `<button class="btn" onclick="openAff('${encodeURIComponent(p.url)}')">Ver produto</button></div>`;
    }else{
      const s=Number(p.stock||0); const cls=s>5?'stock-ok':s>0?'stock-low':'stock-zero'; const msg=s>5?'em estoque':s>0?'baixas unidades':'esgotado';
      el.innerHTML = head + `<div class="stockline"><span>SKU: ${p.sku||'-'}</span><span class="${cls}">${s} ${msg}</span></div>
        <button class="btn" ${s<=0?'disabled':''} onclick="whats('${encodeURIComponent(p.id)}')">${s>0?'Pedir no WhatsApp':'Esgotado'}</button></div>`;
    }
    $grid.appendChild(el);
  });
}
function openAff(enc){ window.open(withSubId(decodeURIComponent(enc)),'_blank','noopener'); }
function whats(encId){
  const id=decodeURIComponent(encId); const item=PRODUCTS_STOCK.find(x=>x.id===id); if(!item) return;
  const phone="5599999999999";
  const txt=`Ol√°, tenho interesse em: ${item.title} (SKU ${item.sku}) - ${priceBRL(item.price)}. Ainda tem dispon√≠vel?`;
  window.open(`https://wa.me/${phone}?text=${encodeURIComponent(txt)}`,'_blank','noopener');
}
function scrollToTop(){ window.scrollTo({top:0,behavior:'smooth'}); }
render();
</script>
</body>
</html>
