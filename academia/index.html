<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>Respect Style • Portal Mobile</title>
<meta name="description" content="Portal do aluno Respect Style — campeonatos, graduados, federações, horarios, eventos e redes sociais."/>
<link rel="icon" href="../imagens/logo-respect-fav.png" type="image/png">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  /* ========= Theme colors (preto / vermelho / dourado) ========= */
  :root{
    --bg: #070707;
    --panel: #0f0f10;
    --muted: #bfbfbf;
    --accent-red: #c51b1b;
    --accent-red-2: #9f1111;
    --gold: #d4af37;
    --glass: rgba(212,175,55,0.06);
    --safe-area-bottom: env(safe-area-inset-bottom, 12px);
  }

  /* ========= Base ========= */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:#fff;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  a{color:inherit;text-decoration:none}
  img{display:block;max-width:100%}
  button{font-family:inherit}

  /* ========= Container ========= */
  .app{
    min-height:100vh;
    display:flex;
    flex-direction:column;
  }

  /* ========= Topbar ========= */
  .topbar{
    display:flex;
    align-items:center;
    gap:12px;
    padding:12px 14px;
    border-bottom:1px solid rgba(255,255,255,0.04);
    background:linear-gradient(180deg, rgba(0,0,0,0.4), rgba(0,0,0,0.6));
    position:sticky;top:0;z-index:40;
  }
  .brand{
    display:flex;align-items:center;gap:10px;
  }
  .logo{
    width:44px;height:44px;border-radius:10px;border:2px solid var(--accent-red);object-fit:cover;
  }
  .brand .title{
    font-weight:700;font-size:1rem;line-height:1;
  }
  .brand .subtitle{font-size:12px;color:var(--muted);margin-top:2px}

  .top-actions{margin-left:auto;display:flex;gap:8px;align-items:center}
  .icon-btn{
    background:transparent;border:1px solid rgba(255,255,255,0.03);padding:8px;border-radius:10px;color:var(--muted);
    display:inline-flex;align-items:center;gap:8px;cursor:pointer;font-weight:600;font-size:13px;
  }

  /* ========= Main content ========= */
  main{flex:1;overflow:auto;padding:14px 12px 84px; /* bottom nav space */ }

  .section{margin-bottom:14px}
  .section h2{margin:0 0 8px;font-size:15px;color:var(--gold);font-weight:700}
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);
  }
  .muted{color:var(--muted);font-size:13px}

  /* ========= Competitions (carousel-like horizontal) ========= */
  .comp-list{display:flex;gap:10px;overflow-x:auto;padding-bottom:6px}
  .comp-item{
    min-width:240px;flex:0 0 auto;background:var(--panel);border-radius:10px;padding:12px;border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 6px 20px rgba(0,0,0,0.5);
  }
  .comp-item h3{margin:0 0 6px;font-size:15px;color:var(--gold)}
  .comp-item p{margin:0 0 8px;color:var(--muted);font-size:13px}
  .comp-item .btn{
    display:inline-block;padding:8px 10px;border-radius:10px;background:linear-gradient(90deg,var(--accent-red),var(--accent-red-2));color:white;font-weight:700;font-size:13px;border:none;cursor:pointer;
  }

  /* ========= Graduates list ========= */
  .graduates-list{display:flex;flex-direction:column;gap:8px}
  .grad-row{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.02)}
  .grad-row .left{display:flex;flex-direction:column}
  .grad-row .name{font-weight:700}
  .grad-row .meta{font-size:13px;color:var(--muted)}

  /* ========= Federations & social links ========= */
  .link-grid{display:flex;gap:8px;flex-wrap:wrap}
  .link-card{flex:1 1 48%;min-width:140px;padding:10px;border-radius:10px;background:linear-gradient(180deg, rgba(212,175,55,0.03), transparent);border:1px solid rgba(212,175,55,0.06);color:var(--muted);font-weight:700;font-size:13px}
  .social-row{display:flex;gap:10px;align-items:center}
  .social-btn{
    display:flex;gap:8px;align-items:center;padding:8px 10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);font-weight:700;cursor:pointer;font-size:13px
  }

  /* ========= Quick schedule & presence ========= */
  .session-row{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.02);margin-bottom:8px}
  .session-row .when{font-size:13px;color:var(--muted)}
  .session-row .pres-btn{padding:8px 10px;border-radius:10px;background:var(--gold);border:none;color:#080808;font-weight:800;cursor:pointer}

  /* ========= Notices / Events ========= */
  .notice{padding:10px;border-radius:10px;background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.02);margin-bottom:8px}
  .event-title{font-weight:700;color:var(--gold);font-size:14px}

  /* ========= Footer / bottom nav ========= */
  .bottom-nav{
    position:fixed;left:12px;right:12px;bottom:calc(var(--safe-area-bottom) + 8px);height:64px;background:linear-gradient(180deg,#0b0b0b,#0f0f10);
    border-radius:14px;display:flex;align-items:center;justify-content:space-around;padding:8px;border:1px solid rgba(255,255,255,0.03);z-index:60;box-shadow:0 8px 26px rgba(0,0,0,0.6)
  }
  .nav-btn{display:flex;flex-direction:column;align-items:center;gap:4px;color:var(--muted);font-weight:700;font-size:12px;background:transparent;border:none;cursor:pointer}
  .nav-btn svg{width:18px;height:18px}
  .nav-btn.active{color:var(--gold)}
  .badge{background:var(--accent-red);padding:2px 6px;border-radius:999px;color:white;font-weight:800;font-size:12px;margin-left:6px}

  /* ========= Responsive tweaks ========= */
  @media(min-width:720px){
    main{padding:18px 28px 120px}
    .comp-item{min-width:280px}
    .card{padding:16px}
  }

  /* accessibility focus */
  .nav-btn:focus,.icon-btn:focus,.comp-item:focus{outline:3px solid rgba(212,175,55,0.12);outline-offset:3px}
</style>
</head>
<body>
  <div class="app" id="app">
    <!-- TOPBAR -->
    <header class="topbar" role="banner">
      <div class="brand">
        <img class="logo" src="../imagens/logo-respect.png" alt="Respect Style" onerror="this.onerror=null;this.src='https://via.placeholder.com/160x160?text=Logo'">
        <div>
          <div class="title">Respect Style</div>
          <div class="subtitle">Portal do Aluno</div>
        </div>
      </div>

      <div class="top-actions" role="navigation" aria-label="Ações">
        <button class="icon-btn" id="btnSearch" title="Buscar"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"><circle cx="11" cy="11" r="6" stroke-width="1.6"/><path d="M21 21l-4.35-4.35" stroke-width="1.6" stroke-linecap="round"/></svg></button>
        <button class="icon-btn" id="btnContact" title="WhatsApp">WhatsApp</button>
      </div>
    </header>

    <!-- MAIN -->
    <main role="main" id="main">

      <!-- Competitions -->
      <section class="section">
        <h2>Campeonatos</h2>
        <div class="card">
          <div class="muted">Próximas datas e inscrições</div>
          <div class="comp-list" id="compList" aria-live="polite">
            <!-- JS will inject competition cards -->
          </div>
        </div>
      </section>

      <!-- Graduates -->
      <section class="section">
        <h2>Alunos Graduados</h2>
        <div class="card">
          <div class="muted">Últimas graduações</div>
          <div style="height:8px"></div>
          <div class="graduates-list" id="graduatesList">
            <!-- JS inject -->
          </div>
        </div>
      </section>

      <!-- Federations -->
      <section class="section">
        <h2>Federações</h2>
        <div class="card">
          <div class="muted">Links oficiais</div>
          <div style="height:8px"></div>
          <div class="link-grid" id="federationsGrid"></div>
        </div>
      </section>

      <!-- Social & Contact -->
      <section class="section">
        <h2>Redes Sociais</h2>
        <div class="card">
          <div class="muted">Siga nossas redes e entre em contato</div>
          <div style="height:10px"></div>
          <div class="social-row" id="socialsRow">
            <!-- JS inject -->
          </div>
        </div>
      </section>

      <!-- Quick schedule & presence -->
      <section class="section">
        <h2>Horários & Presença</h2>
        <div class="card">
          <div class="muted">Marque sua presença rápido</div>
          <div style="height:8px"></div>
          <div id="scheduleList"></div>
        </div>
      </section>

      <!-- Notices & Events -->
      <section class="section">
        <h2>Avisos & Eventos</h2>
        <div class="card">
          <div id="noticesList"></div>
          <div id="eventsList"></div>
        </div>
      </section>

      <!-- Birthdays -->
      <section class="section">
        <h2>Aniversariantes</h2>
        <div class="card">
          <div id="birthdaysList"></div>
        </div>
      </section>

    </main>

    <!-- BOTTOM NAV -->
    <nav class="bottom-nav" role="navigation" aria-label="Navegação principal">
      <button class="nav-btn active" data-view="dashboard" aria-label="Dashboard">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 11.5L12 4l9 7.5" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M5 12v7a1 1 0 001 1h3v-5h6v5h3a1 1 0 001-1v-7" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        Início
      </button>

      <button class="nav-btn" data-view="competitions" aria-label="Campeonatos">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="9" r="4" stroke-width="1.6"/><path d="M5 20h14" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        Campeonatos
      </button>

      <button class="nav-btn" data-view="graduates" aria-label="Graduados">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 2l7 4-7 4-7-4 7-4z" stroke-width="1.6"/><path d="M5 10v6a7 7 0 0 0 14 0v-6" stroke-width="1.6"/></svg>
        Graduados
      </button>

      <button class="nav-btn" data-view="links" aria-label="Federações">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 12h6M15 12h6M8 6l8 12" stroke-width="1.6"/></svg>
        Links
      </button>

      <button class="nav-btn" data-view="contact" aria-label="Contato">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 8V7a2 2 0 0 0-2-2h-3" stroke-width="1.6"/><path d="M3 8v8a2 2 0 0 0 2 2h14" stroke-width="1.6"/></svg>
        Contato
      </button>
    </nav>

  </div>

<script>
/* ========= Demo data ========= */
const DATA = {
  competitions: [
    { id:'c1', date:'2025-11-10', title:'Copa Estadual de Jiu-Jitsu', location:'Ginásio Municipal', desc:'Inscrições abertas até 01/11', link:'#' },
    { id:'c2', date:'2025-12-07', title:'Open Respect Cup', location:'Centro Esportivo', desc:'Categorias infantil e adulto', link:'#' },
    { id:'c3', date:'2026-01-20', title:'Circuito Norte/Nordeste', location:'Ginásio Regional', desc:'Equipes convidadas', link:'#' }
  ],
  graduates: [
    { id:'g1', name:'Carlos Silva', grade:'Faixa Azul', date:'2025-08-12' },
    { id:'g2', name:'Mariana Souza', grade:'Faixa Roxa', date:'2025-09-22' },
    { id:'g3', name:'Felipe Costa', grade:'Faixa Marrom', date:'2025-10-05' },
    { id:'g4', name:'Ana Pereira', grade:'Faixa Preta', date:'2025-10-10' }
  ],
  federations: [
    { name:'CBJJ', url:'https://www.cbjj.com.br' },
    { name:'CBJJE', url:'https://www.cbjje.com.br' },
    { name:'IBJJF', url:'https://ibjjf.com' }
  ],
  socials: [
    { name:'Instagram', url:'https://instagram.com', note:'@respectstyle' },
    { name:'Facebook', url:'https://facebook.com', note:'Respect Style' },
    { name:'YouTube', url:'https://youtube.com', note:'Respect Channel' },
    { name:'WhatsApp', url:'https://wa.me/5599999999999', note:'+55 99 99999-9999' }
  ],
  sessions: [
    { id:'s1', title:'Gi - Avançado', time:'Seg 19:00 - 20:30' },
    { id:'s2', title:'NoGi - Técnicas', time:'Qua 19:00 - 20:30' },
    { id:'s3', title:'Infantil', time:'Sáb 10:00 - 11:00' }
  ],
  notices: [
    { id:'n1', title:'Feriado - Treino cancelado', text:'Não haverá aulas dia 15/11.' },
    { id:'n2', title:'Vestuário oficial', text:'Camisetas novas disponíveis na loja.' }
  ],
  events: [
    { id:'e1', title:'Treino especial com professor X', date:'2025-10-30', desc:'Treino aberto para convidados.' }
  ],
  students: [
    { id:'s1', name:'Carlos Silva', dob:'1995-10-12', email:'carlos@example.com' },
    { id:'s2', name:'Ana Pereira', dob:'1990-10-03', email:'ana@example.com' }
  ]
};

/* ========= Utilities ========= */
function el(q){ return document.querySelector(q) }
function elAll(q){ return Array.from(document.querySelectorAll(q)) }
function create(tag, props={}, children=[]){
  const e = document.createElement(tag);
  Object.entries(props||{}).forEach(([k,v]) => { if(k==='class') e.className=v; else if(k==='html') e.innerHTML=v; else e.setAttribute(k,v); });
  (Array.isArray(children)?children:[children]).forEach(c => { if(!c) return; if(typeof c === 'string') e.appendChild(document.createTextNode(c)); else e.appendChild(c); });
  return e;
}

/* ========= Renderers ========= */
function renderCompetitions(){
  const wrap = el('#compList'); wrap.innerHTML = '';
  DATA.competitions.forEach(c => {
    const card = create('div',{class:'comp-item',tabindex:0});
    card.appendChild(create('h3',{}, c.title));
    card.appendChild(create('p',{}, `${c.date} • ${c.location}`));
    card.appendChild(create('div',{class:'muted',html: c.desc}));
    const btn = create('button',{class:'btn',type:'button'}, 'Inscrever');
    btn.addEventListener('click', ()=> alert('Inscrição simulada: ' + c.title));
    card.appendChild(create('div',{}, [document.createElement('div')]));
    card.appendChild(btn);
    wrap.appendChild(card);
  });
}

function renderGraduates(){
  const wrap = el('#graduatesList'); wrap.innerHTML = '';
  DATA.graduates.forEach(g=>{
    const row = create('div',{class:'grad-row'});
    const left = create('div',{class:'left'});
    left.appendChild(create('div',{class:'name'}, g.name));
    left.appendChild(create('div',{class:'meta'}, `${g.grade} • ${g.date}`));
    const right = create('div',{class:'right'});
    const badge = create('div',{class:'muted'}, g.id);
    right.appendChild(badge);
    row.appendChild(left); row.appendChild(right);
    wrap.appendChild(row);
  });
}

function renderFederations(){
  const wrap = el('#federationsGrid'); wrap.innerHTML='';
  DATA.federations.forEach(f=>{
    const a = create('a',{class:'link-card',href:f.url,target:'_blank',rel:'noopener noreferrer'});
    a.innerHTML = `<div style="font-weight:800;color:var(--gold)">${escapeHtml(f.name)}</div><div class="muted" style="font-size:12px;margin-top:6px">${escapeHtml(f.url)}</div>`;
    wrap.appendChild(a);
  });
}

function renderSocials(){
  const wrap = el('#socialsRow'); wrap.innerHTML='';
  DATA.socials.forEach(s=>{
    const a = create('a',{class:'social-btn',href:s.url,target:'_blank',rel:'noopener noreferrer'});
    a.innerHTML = `<strong style="color:var(--gold)">${escapeHtml(s.name)}</strong><span style="color:var(--muted);font-size:13px">${escapeHtml(s.note)}</span>`;
    wrap.appendChild(a);
  });
}

function renderSchedule(){
  const wrap = el('#scheduleList'); wrap.innerHTML='';
  DATA.sessions.forEach(sess=>{
    const row = create('div',{class:'session-row'});
    row.innerHTML = `<div><div style="font-weight:800">${escapeHtml(sess.title)}</div><div class="when">${escapeHtml(sess.time)}</div></div>`;
    const btn = create('button',{class:'pres-btn'},'Presença');
    btn.addEventListener('click', ()=> {
      // save presence in localStorage
      const key = 'presence_'+sess.id;
      const count = parseInt(localStorage.getItem(key) || '0',10) + 1;
      localStorage.setItem(key, String(count));
      alert('Presença registrada (demo): ' + sess.title);
    });
    row.appendChild(btn);
    wrap.appendChild(row);
  });
}

function renderNotices(){
  const wrap = el('#noticesList'); wrap.innerHTML='';
  DATA.notices.forEach(n=>{
    const d = create('div',{class:'notice'});
    d.innerHTML = `<div style="font-weight:800;color:var(--gold)">${escapeHtml(n.title)}</div><div class="muted" style="margin-top:6px">${escapeHtml(n.text)}</div>`;
    wrap.appendChild(d);
  });
  const eventsWrap = el('#eventsList'); eventsWrap.innerHTML='';
  DATA.events.forEach(ev=>{
    const d = create('div',{class:'notice'});
    d.innerHTML = `<div class="event-title">${escapeHtml(ev.title)}</div><div class="muted">${escapeHtml(ev.date)}</div><div style="margin-top:6px">${escapeHtml(ev.desc)}</div>`;
    eventsWrap.appendChild(d);
  });
}

function renderBirthdays(){
  const wrap = el('#birthdaysList'); wrap.innerHTML='';
  const month = new Date().getMonth() + 1;
  DATA.students.forEach(s=>{
    if(!s.dob) return;
    const parts = s.dob.split('-'); if(parts.length<3) return;
    const m = parseInt(parts[1],10);
    if(m === month){
      const d = create('div',{class:'notice'});
      d.innerHTML = `<div style="font-weight:800">${escapeHtml(s.name)}</div><div class="muted">Aniversário: ${parts[2]}/${parts[1]}</div>`;
      wrap.appendChild(d);
    }
  });
}

/* ========= Navigation handling (bottom nav) ========= */
function setupNavigation(){
  const navBtns = elAll('.nav-btn');
  navBtns.forEach(btn=>{
    btn.addEventListener('click', (ev)=>{
      navBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      const view = btn.dataset.view;
      // smooth scroll to section
      switch(view){
        case 'dashboard':
          window.scrollTo({top:0,behavior:'smooth'}); break;
        case 'competitions':
          scrollToSection('Campeonatos'); break;
        case 'graduates':
          scrollToSection('Alunos Graduados'); break;
        case 'links':
          scrollToSection('Federações'); break;
        case 'contact':
          scrollToSection('Redes Sociais'); break;
      }
    });
  });
}
function scrollToSection(titleText){
  // find h2 with text
  const h2s = Array.from(document.querySelectorAll('main h2'));
  const target = h2s.find(h => h.textContent.trim().toLowerCase().includes(titleText.toLowerCase().split(' ')[0]));
  if(target) target.scrollIntoView({behavior:'smooth',block:'start'});
}

/* ========= Misc ========= */
function escapeHtml(s=''){ return String(s||'').replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[c]); }

function init(){
  renderCompetitions();
  renderGraduates();
  renderFederations();
  renderSocials();
  renderSchedule();
  renderNotices();
  renderBirthdays();
  setupNavigation();

  // WhatsApp quick contact button
  document.getElementById('btnContact').addEventListener('click', ()=> {
    const phone = DATA.socials.find(s=>s.name.toLowerCase().includes('whats'))?.url || 'https://wa.me/5599999999999';
    const text = encodeURIComponent('Olá, tenho interesse em informações da Respect Style (via portal).');
    // open in new tab
    window.open(phone.includes('wa.me') ? phone : `${phone}`, '_blank');
  });

  // quick search button (demo)
  document.getElementById('btnSearch').addEventListener('click', ()=> {
    const q = prompt('Buscar por nome/campeonato:');
    if(!q) return;
    // simple search: highlight matches descending order (competitions first)
    const matchComp = DATA.competitions.filter(c=> (c.title+c.location+c.desc).toLowerCase().includes(q.toLowerCase()));
    if(matchComp.length){
      alert('Encontrado em Campeonatos: ' + matchComp.map(m=>m.title).join(', '));
      return;
    }
    const matchGrad = DATA.graduates.filter(g => g.name.toLowerCase().includes(q.toLowerCase()));
    if(matchGrad.length){
      alert('Graduados encontrados: ' + matchGrad.map(m=>m.name).join(', '));
      return;
    }
    alert('Nenhum resultado rápido (demo).');
  });
}

/* ========= Boot ========= */
document.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>
